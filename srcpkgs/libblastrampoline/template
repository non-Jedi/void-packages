# Template file for 'libblastrampoline'
pkgname=libblastrampoline
version=5.0.1
revision=1
build_wrksrc=src
build_style=gnu-makefile
make_build_args="COMPLEX_RETSTYLE_AUTODETECTION=0 F2C_AUTODETECTION=0"
make_install_args="${make_build_args} prefix=\${DESTDIR}/usr"
short_desc="BLAS and LAPACK demuxing library"
maintainer="Adam Beckmeyer <adam_gpg@thebeckmeyers.xyz>"
license="MIT"
homepage="https://github.com/JuliaLinearAlgebra/libblastrampoline"
distfiles="https://github.com/JuliaLinearAlgebra/libblastrampoline/archive/refs/tags/v${version}.tar.gz"
checksum=1066b4d157276e41ca66ca94f0f8c2900c221b49da2df3c410e6f8bf1ce9b488

LBT_CFLAGS="-fPIC -D_GNU_SOURCE"
LBT_LDFLAGS="-shared"

post_install() {
	vlicense ../LICENSE
}

libblastrampoline-devel_package() {
	depends="${sourcepkg}>=${version}_${revision}"
	short_desc+=" - development files"
	pkg_install() {
		vmove usr/include
		vmove usr/lib/*.so
	}
}
